module.exports=function(e){function r(n){if(t[n])return t[n].exports;var u=t[n]={i:n,l:!1,exports:{}};return e[n].call(u.exports,u,u.exports,r),u.l=!0,u.exports}var t={};return r.m=e,r.c=t,r.i=function(e){return e},r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},r.p="",r(r.s=5)}([function(e,r,t){"use strict";e.exports=function(e){function r(n){if(t[n])return t[n].exports;var u=t[n]={i:n,l:!1,exports:{}};return e[n].call(u.exports,u,u.exports,r),u.l=!0,u.exports}var t={};return r.m=e,r.c=t,r.i=function(e){return e},r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},r.p="",r(r.s=0)}([function(e,r,t){function n(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var u=function(){function e(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(r,t,n){return t&&e(r.prototype,t),n&&e(r,n),r}}(),o=function(){function e(){n(this,e)}return u(e,null,[{key:"processRequest",value:function(e){return new Promise(function(r,t){e?r(e):t()})}}]),e}();r.default=o}])},function(e,r,t){"use strict";function n(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var u=function(){function e(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(r,t,n){return t&&e(r.prototype,t),n&&e(r,n),r}}(),o=t(3),a=function(e){return e&&e.__esModule?e:{default:e}}(o),s=function(){function e(){n(this,e)}return u(e,null,[{key:"validate",value:function(e){var r=function(){var r=e.requestMethod,t=e.requestHeaders,n=e.requestPath,u=t.Host;return function(){return!!(r&&u&&n)}()};return new Promise(function(t,n){var u=(0,a.default)(e);r()&&u?t(u):n()})}}]),e}();r.default=s},function(e,r,t){"use strict";function n(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var u=function(){function e(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(r,t,n){return t&&e(r.prototype,t),n&&e(r,n),r}}(),o=t(7),a=function(e){return e&&e.__esModule?e:{default:e}}(o),s=function(){function e(){n(this,e)}return u(e,null,[{key:"forwardResponse",value:function(e){var r=e.redirectHost,t=e.requestPath;return{statusCode:302,headers:{Location:"https://"+a.default.join(r,t)}}}}]),e}();r.default=s},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t(4),u=function(e){return e&&e.__esModule?e:{default:e}}(n),o=function(e){var r=e.requestMethod,t=e.requestHeaders,n=e.requestPath,o=t.Host,a=(0,u.default)(o);if(!a)throw new Error("Request must have a valid Host header key");var s=a[n];if(!s)throw new Error("Request must have a valid path header key");var i=s[r];if(!i)throw new Error("Request must have a valid mapping to core inputs");return i(e)};r.default=o},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},u=t(6),o=function(e){return e&&e.__esModule?e:{default:e}}(u),a=function(e){var r=function(e){var r=e.requestHeaders,t=(r["X-Forwarded-For"]||"").split(",")[0],n=r.Referer;if(!n)throw new Error("Invalid Input, request must include Referer header");return{ip:t,url:n,geo:o.default.lookup(t)}},t={cdnjs:{"/ajax/libs/jquery/3.2.1/jquery.min.js":{GET:function(e){var t=e.requestHeaders;return n({uuid:"3.2.1"},r({requestHeaders:t}))}},"/ajax/libs/jquery/3.2.0/jquery.min.js":{GET:function(e){var t=e.requestHeaders;return n({uuid:"3.2.0"},r({requestHeaders:t}))}},"/ajax/libs/jquery/3.1.1/jquery.min.js":{GET:function(e){var t=e.requestHeaders;return n({uuid:"3.1.1"},r({requestHeaders:t}))}},"/ajax/libs/jquery/3.1.0/jquery.min.js":{GET:function(e){var t=e.requestHeaders;return n({uuid:"3.1.0"},r({requestHeaders:t}))}},"/ajax/libs/jquery/3.0.0/jquery.min.js":{GET:function(e){var t=e.requestHeaders;return n({uuid:"3.0.0"},r({requestHeaders:t}))}},"/ajax/libs/jquery/2.2.4/jquery.min.js":{GET:function(e){var t=e.requestHeaders;return n({uuid:"2.2.4"},r({requestHeaders:t}))}}},githubcdn:{"/jquery":{POST:function(e){var t=e.requestHeaders,u=e.requestBody;if(!u.version)throw new Error("Invalid Input, request JSON body must include a version key");var o=u.version;return n({uuid:o},r({requestHeaders:t}))}},"/jquery/dist":{POST:function(e){var t=e.requestHeaders,u=e.requestBody;if(!u.version)throw new Error("Invalid Input, request JSON body must include a version key");var o=u.version;return n({uuid:o},r({requestHeaders:t}))},GET:function(e){var t=e.requestHeaders,u=t["X-Alt-Referer"];if(!u)throw new Error("Invalid Input, request must include a X-Alt-Referer header");var o=function(){var e=u.lastIndexOf("?txid=");return u.substring(e+6)}();return n({uuid:o},r({requestHeaders:t}))}},"/jquery/stable":{POST:function(e){var t=e.requestHeaders,u=e.requestBody,o=void 0===u?{}:u;if(!o.version)throw new Error("Invalid Input, request JSON body must include a version key");var a=o.version;return n({uuid:a},r({requestHeaders:t}))}},"/jquery/latest":{POST:function(e){var t=e.requestHeaders,u=e.requestBody;if(!u.version)throw new Error("Invalid Input, request JSON body must include a version key");var o=u.version;return n({uuid:o},r({requestHeaders:t}))}}}};return{"test.cdnjs.io":t.cdnjs,"cloudflare.cdnjs.io":t.cdnjs,"github-cdn.com":t.githubcdn}[e]};r.default=a},function(e,r,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var u=t(1),o=n(u),a=t(2),s=n(a),i=t(0),c=n(i);r.handler=function(e,r,t){var n=e.path,u=e.httpMethod,a=e.body||{},i=e.headers,d=e.stageVariables.redirectHost;o.default.validate({requestMethod:u,requestPath:n,requestBody:a,requestHeaders:i}).then(function(e){c.default.processRequest(e).then(function(e){console.log(e),t(null,e)}).catch(function(){t(null,s.default.forwardResponse({redirectHost:d,requestPath:n}))})}).catch(function(){t(null,s.default.forwardResponse({redirectHost:d,requestPath:n}))})}},function(e,r){e.exports=require("geoip-country-lite")},function(e,r){e.exports=require("path")}]);